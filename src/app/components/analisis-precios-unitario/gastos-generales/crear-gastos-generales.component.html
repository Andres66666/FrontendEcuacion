<!-- ========== GASTOS GENERALES ========== -->
<div class="card border-info mb-4" [formGroup]="Form">
  <div class="card-header bg-info ">
    <h5 class="mb-0">
      <i class="bi bi-cash-stack me-2"></i>4. Gastos Generales y Administrativos
    </h5>
  </div>

  <div class="card-body">
    <table class="table table-bordered mb-3">
      <tbody>
        <tr>
          <td><p>Suma Total (1+2+3) :</p></td>
          <td class="text-end align-middle">{{ formatearNumero(sumaTotales) }}</td>
        </tr>
        <tr>
          <td>Total Gastos Generales ((1+2+3) * {{formatearNumero(gastos_generales)}} %)</td>
          <td class="text-end">
            {{ formatearNumero(totalGastosGenerales) }}
          </td>
        </tr>
        <tr class="table-info fw-bold">
          <td>Total Gastos de Operaci√≥n (1+2+3+4)</td>
          <td class="text-end">
            {{ formatearNumero(totalOperacion) }}
          </td>
        </tr>
      </tbody>
    </table>
    <div class="d-flex justify-content-end gap-2 no-export">
      <button
        class="btn btn-success"
        type="button"
        (click)="registrarGastosGenerales()"
        [disabled]="gastoExistente"
      >
        Registrar
      </button>
      <button
        class="btn btn-primary"
        type="button"
        (click)="actualizarGastosGenerales()"
        [disabled]="!gastoExistente" 
      >
        Actualizar
      </button>
    </div>
  </div>
</div>
<app-ok *ngIf="mensajeExito" [mensaje]="mensajeExito" (close)="manejarOk()"></app-ok>
<app-error *ngIf="mensajeError" [mensaje]="mensajeError" (close)="manejarError()"></app-error>
